<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RuslikiOS Support</title>

<style>
body{
  margin:0;
  font-family:system-ui, Arial;
  background:#0f172a;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.box{
  width:400px;
  background:#1e293b;
  padding:20px;
  border-radius:16px;
  box-shadow:0 20px 50px rgba(0,0,0,.5);
}

h2{
  margin-top:0;
  text-align:center;
}

textarea{
  width:100%;
  min-height:100px;
  resize:vertical;
  padding:10px;
  border-radius:10px;
  border:none;
  margin-top:10px;
  font-size:14px;
}

input[type="file"]{
  margin-top:10px;
  width:100%;
}

img{
  margin-top:10px;
  max-width:100%;
  border-radius:10px;
  display:none;
}

button{
  margin-top:15px;
  width:100%;
  padding:10px;
  border:none;
  border-radius:10px;
  font-size:14px;
  cursor:pointer;
  background:#7c5cff;
  color:#fff;
}

button:hover{
  background:#6b4de6;
}

#status{
  margin-top:10px;
  font-size:13px;
  text-align:center;
  opacity:.8;
}
</style>
</head>
<body>

<div class="box">
  <h2>Служба поддержки</h2>

  <textarea id="text" placeholder="Напиши проблему..."></textarea>

  <input type="file" id="photo" accept="image/*">

  <img id="preview">

  <button onclick="send()">Отправить</button>

  <div id="status"></div>
</div>

<script>
/* ===== ВСТАВЬ СВОИ ДАННЫЕ ===== */
const BOT_TOKEN = "8536084388:AAGw1DnInK_ELaNzeaCbXC1lBWOCMUhVUkM";
const CHAT_ID   = "-1002868789985";
/* ================================= */

const SIGN = "(RusliCommander)";

const text = document.getElementById("text");
const photo = document.getElementById("photo");
const preview = document.getElementById("preview");
const statusBox = document.getElementById("status");

/* Превью фото */
photo.onchange = () => {
  const file = photo.files[0];
  if(!file){
    preview.style.display="none";
    return;
  }
  preview.src = URL.createObjectURL(file);
  preview.style.display="block";
};

/* Отправка */
async function send(){
  statusBox.textContent = "Отправка...";

  const message = (text.value.trim() || "(пусто)") + "\n\n" + SIGN;

  try{
    if(photo.files.length > 0){
      // Отправка фото
      const formData = new FormData();
      formData.append("chat_id", CHAT_ID);
      formData.append("caption", message);
      formData.append("photo", photo.files[0]);

      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`,{
        method:"POST",
        body:formData
      });

    }else{
      // Отправка только текста
      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({
          chat_id:CHAT_ID,
          text:message
        })
      });
    }

    statusBox.textContent = "Отправлено ✅";
    text.value="";
    photo.value="";
    preview.style.display="none";

  }catch(e){
    statusBox.textContent = "Ошибка ❌";
    console.log(e);
  }

  setTimeout(()=>statusBox.textContent="",3000);
}
</script>

</body>
</html>